/* --- Variables & Mixins --- */
$primary-blue: #0052cc;
$light-blue: #e6f0ff;
$medium-blue: #3d7cc7;
$white: #ffffff;
$light-gray: #f5f8fb;
$border-gray: #e0e8f0;
$text-dark: #1a2340;
$text-light: #5a6b7d;
$warning-color: #ff6b6b;

@mixin box-shadow { box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); }
@mixin flex-center { display: flex; align-items: center; justify-content: center; }
@keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes iconPulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }

.container {
  min-height: 100vh; background: linear-gradient(135deg, $light-blue 0%, #f0f7ff 100%);
  font-family: 'Segoe UI', sans-serif; animation: slideUp 0.5s ease;
}

/* --- HEADER (Copy từ PatientHome) --- */
.header {
  background: linear-gradient(135deg, $primary-blue 0%, $medium-blue 100%);
  padding: 20px 32px; color: $white; position: sticky; top: 0; z-index: 100;
  box-shadow: 0 4px 16px rgba(5, 82, 204, 0.15);

  .headerContent { display: flex; justify-content: space-between; align-items: center; }
  .headerLeft { display: flex; align-items: center; gap: 24px; }
  .logo {
    display: flex; align-items: center; gap: 12px; cursor: pointer;
    .logoIcon { @include flex-center; width: 48px; height: 48px; background: rgba(255,255,255,0.2); border-radius: 12px; border: 2px solid rgba(255,255,255,0.3); .heartBeat { font-size: 24px; animation: iconPulse 1.5s infinite; } }
    .logoText { h1 { margin: 0; font-size: 18px; font-weight: 800; } p { margin: 2px 0 0; font-size: 11px; opacity: 0.9; } }
  }
  .greeting {
    h2 { margin: 0; font-size: 18px; font-weight: 700; }
    p { margin: 4px 0 0; font-size: 12px; opacity: 0.9; }
  }
  .headerRight {
    display: flex; gap: 12px; align-items: center;
    .notificationBtn, .settingsBtn { background: rgba(255,255,255,0.15); border: none; border-radius: 12px; width: 44px; height: 44px; cursor: pointer; position: relative; @include flex-center; border: 1px solid rgba(255,255,255,0.2); &:hover { background: rgba(255,255,255,0.25); } .icon { font-size: 20px; } }
    .notificationBtn .badge { position: absolute; top: -4px; right: -4px; background: #ff4757; color: $white; width: 20px; height: 20px; border-radius: 50%; @include flex-center; font-size: 10px; font-weight: 800; border: 2px solid $primary-blue; }
    .avatar { @include flex-center; width: 44px; height: 44px; background: rgba(255,255,255,0.2); border-radius: 12px; font-weight: 700; border: 2px solid rgba(255,255,255,0.3); }
  }
}

/* --- Navigation Bar --- */
.navigationBar {
  max-width: 1000px; margin: 20px auto 0; padding: 0 16px;
  .backLink {
    background: transparent; border: none; font-size: 14px; font-weight: 700; color: $text-light;
    cursor: pointer; display: flex; align-items: center; gap: 6px; transition: all 0.3s;
    &:hover { color: $primary-blue; transform: translateX(-4px); }
  }
}

.mainContent { max-width: 900px; margin: 0 auto; padding: 20px 16px 60px; }

/* --- Progress Bar --- */
/* --- Progress Bar --- */
.progressBar {
  display: flex; 
  justify-content: center; /* Căn giữa toàn bộ thanh tiến trình */
  align-items: center; 
  margin-bottom: 32px; 
  margin-top: 10px;
  padding-left: 0; /* QUAN TRỌNG: Đặt về 0 để không bị lệch */
  width: 100%;     /* Chiếm hết chiều rộng để căn giữa chuẩn */

  .step {
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    gap: 8px; 
    opacity: 0.5;
    
    /* Đảm bảo ô đủ rộng để chứa chữ, tránh xuống dòng xấu */
    min-width: 100px; 
    text-align: center;
    position: relative; /* Để canh chỉnh nếu cần */
    
    &.active { 
      opacity: 1; 
      .stepIcon { 
        background: $primary-blue; 
        color: $white; 
        border-color: $primary-blue; 
        box-shadow: 0 4px 12px rgba(0, 82, 204, 0.3); 
      } 
      span { 
        color: $primary-blue; 
        font-weight: 700; 
      } 
    }
    
    .stepIcon { 
      width: 48px; 
      height: 48px; 
      border-radius: 50%; 
      border: 2px solid $text-light; 
      @include flex-center; 
      font-size: 20px; 
      background: $white; 
      transition: all 0.3s; 
    }
    
    span { 
      font-size: 13px; 
      font-weight: 600; 
      white-space: nowrap; 
    }
  }
  
  .connector { 
    /* Giảm độ dài dây nối xuống 50px-60px để 4 ô không bị bè quá rộng ra 2 bên */
    width: 60px; 
    height: 2px; 
    background: $border-gray; 
    margin: 0 4px 24px; /* Margin trên/dưới giữ nguyên, trái/phải thu hẹp lại */
  }
}

/* --- Section & Lists --- */
.sectionHeader {
  display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;
  h3 { margin: 0; font-size: 18px; color: $text-dark; }
  .addProfileBtn { background: $white; color: $primary-blue; border: 1px dashed $primary-blue; padding: 10px 20px; border-radius: 20px; font-weight: 700; cursor: pointer; transition: all 0.2s; &:hover { background: $light-blue; transform: translateY(-2px); } }
}

.profileList { display: flex; flex-direction: column; gap: 16px; }
.profileCard {
  background: $white; padding: 24px; border-radius: 16px; @include box-shadow; display: flex; align-items: center; gap: 20px; transition: transform 0.2s;
  &:hover { transform: translateY(-4px); border: 1px solid $primary-blue; box-shadow: 0 8px 24px rgba(0, 82, 204, 0.15); }
  .cardAvatar { width: 64px; height: 64px; background: $light-blue; color: $primary-blue; font-size: 28px; font-weight: 800; border-radius: 50%; @include flex-center; }
  .cardInfo { flex: 1; h4 { margin: 0 0 6px; font-size: 16px; color: $text-dark; } p { margin: 0; font-size: 13px; color: $text-light; } }
  .selectBtn { background: linear-gradient(135deg, $primary-blue, $medium-blue); border: none; color: $white; padding: 10px 32px; border-radius: 10px; font-weight: 600; cursor: pointer; &:hover { opacity: 0.9; } }
}

/* --- FORM STYLE (Updated Address) --- */
/* --- FORM STYLE --- */
.formHeader {
  margin-top: -20px; 
  padding-bottom: 10px;
  display: flex;
  align-items: center;
  justify-content: space-between; /* Đẩy các nút sang 2 bên */
  position: relative; /* Quan trọng: Làm mốc tọa độ cho title */
  margin-bottom: 24px;
  min-height: 32px; /* Đảm bảo chiều cao */

  .backBtn {
    background: none;
    border: none;
    font-size: 14px;
    font-weight: 700;
    color: $text-light;
    cursor: pointer;
    z-index: 10; /* Đảm bảo nút nằm trên title để bấm được */
    position: relative; 
    
    &:hover {
      color: $primary-blue;
    }
  }

  /* CLASS MỚI: Canh giữa tuyệt đối */
  .centerTitle {
    position: absolute;
    left: 50%;
    transform: translateX(-50%); /* Dịch chuyển ngược lại 50% để chính giữa tâm */
    margin: 0;
    font-size: 20px;
    color: $text-dark; /* Hoặc $primary-blue nếu muốn màu xanh */
    font-weight: 800;
    text-align: center;
    width: max-content; /* Chỉ chiếm độ rộng vừa đủ nội dung */
  }
}

.createForm {
  background: $white; padding: 40px; border-radius: 20px; @include box-shadow;
  .formGrid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; @media (max-width: 700px) { grid-template-columns: 1fr; } }
 .formGroup {
    display: flex;
    flex-direction: column;
    gap: 8px;

    label {
      font-size: 13px;
      font-weight: 600;
      color: $text-dark;
      
      /* --- THÊM MỚI ĐỂ CANH GIỮA --- */
      text-align: left;
      width: 100%;        /* Chiếm hết chiều rộng để canh giữa chuẩn */
      display: block;
      /* --------------------------- */

      .red { color: $warning-color; }
    }

    /* Input giữ nguyên */
    input, select {
      padding: 14px 16px;
      border: 1px solid $border-gray;
      border-radius: 12px;
      font-size: 14px;
      background: #fafafa;
      transition: all 0.3s;
      &:focus { outline: none; border-color: $primary-blue; background: $white; box-shadow: 0 0 0 4px rgba(0, 82, 204, 0.1); }
    }
  }
  .radioGroup { display: flex; gap: 24px; padding: 10px 0; label { font-weight: 500; display: flex; align-items: center; gap: 8px; cursor: pointer; } }
  .fullWidth { grid-column: 1 / -1; }
  
  .formActions {
    margin-top: 40px;
    .submitBtn { width: 100%; background: linear-gradient(135deg, $primary-blue, $medium-blue); color: $white; padding: 16px; border: none; border-radius: 12px; font-size: 16px; font-weight: 700; cursor: pointer; transition: all 0.3s; &:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(0, 82, 204, 0.2); } }
  }
}

/* Address Box Style */
.groupTitle { font-size: 14px; font-weight: 700; color: $text-dark; margin-bottom: 12px; border-bottom: 1px solid $border-gray; padding-bottom: 8px; .red { color: $warning-color; } }
.addressContainer { background: $light-gray; border-radius: 12px; padding: 20px; border: 1px solid $border-gray; }
.addressRow { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 16px; &:last-child { margin-bottom: 0; } }
.selectGroup, .inputGroup {
  display: flex; flex-direction: column; gap: 6px;
  label { text-align: left;font-size: 12px; font-weight: 600; color: $text-light; text-transform: uppercase; }
  select, input { padding: 12px 14px; border: 1px solid #d0d7de; border-radius: 8px; font-size: 14px; background: $white; transition: all 0.2s; width: 100%; &:focus { border-color: $primary-blue; box-shadow: 0 0 0 3px rgba(0, 82, 204, 0.1); outline: none; } &:disabled { background: #eef1f5; color: #999; cursor: not-allowed; } }
}

/* --- POPUPS --- */
.overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 1000; @include flex-center; animation: slideUp 0.3s; backdrop-filter: blur(4px); }

/* Popup 1: History */
.popup {
  background: $white; width: 480px; padding: 40px 32px; border-radius: 24px; text-align: center; position: relative; box-shadow: 0 20px 50px rgba(0,0,0,0.2);
  .closePopup { position: absolute; top: 16px; right: 16px; background: none; border: none; font-size: 24px; cursor: pointer; color: $text-light; }
  h4 { font-size: 20px; margin: 0 0 12px; color: $text-dark; font-weight: 800; }
  p { font-size: 14px; color: $text-light; margin-bottom: 32px; line-height: 1.5; }
  button { width: 100%; padding: 16px; border-radius: 30px; font-weight: 700; font-size: 13px; margin-bottom: 12px; cursor: pointer; transition: all 0.2s; &.btnPrimary { background: $primary-blue; color: $white; border: none; &:hover { background: $medium-blue; } } &.btnOutline { background: $white; color: $primary-blue; border: 2px solid $light-blue; &:hover { background: $light-blue; } } }
}

/* Popup 2: Method (Giống hình 2) */
.methodPopup {
  background: #f0f2f5; width: 400px; padding: 32px 20px; border-radius: 24px; display: flex; flex-direction: column; gap: 16px; position: relative; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  .closePopup { position: absolute; top: -40px; right: 0; background: $white; border-radius: 50%; width: 32px; height: 32px; border: none; font-size: 20px; cursor: pointer; color: $text-dark; display: flex; align-items: center; justify-content: center; &:hover { background: $warning-color; color: $white; } }
  .popupHeader { text-align: center; margin-bottom: 8px; h4 { margin: 0; font-size: 18px; font-weight: 800; color: $text-dark; } }
  
  .methodBtn {
    background: $white; border: none; padding: 20px; border-radius: 16px; display: flex; align-items: center; gap: 20px; cursor: pointer; transition: all 0.3s; box-shadow: 0 4px 10px rgba(0,0,0,0.05); text-align: left;
    &:hover { transform: translateY(-4px); box-shadow: 0 12px 24px rgba(5, 82, 204, 0.15); .text { color: $primary-blue; } }
    .icon { font-size: 32px; width: 50px; height: 50px; background: $light-blue; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
    .text { font-size: 16px; font-weight: 700; color: $text-dark; transition: color 0.3s; }
  }
}
/* --- SPECIALTY SELECTION STYLES (MỚI) --- */
.searchBar {
  position: relative; margin-bottom: 16px;
  
  input {
    width: 100%; 
    padding: 14px 16px 14px 44px; 
    border-radius: 12px;
    border: 1px solid $border-gray; 
    font-size: 15px; 
    outline: none; 
    transition: all 0.2s;
    
    /* --- THÊM DÒNG NÀY VÀO --- */
    box-sizing: border-box; 
    /* ------------------------ */

    &:focus { border-color: $primary-blue; box-shadow: 0 0 0 3px rgba(0, 82, 204, 0.1); }
  }
  .searchIcon { position: absolute; left: 16px; top: 50%; transform: translateY(-50%); font-size: 18px; opacity: 0.5; }
}

.noteText {
  font-size: 13px; color: #f39c12; margin-bottom: 20px; font-style: italic; display: flex; align-items: center; gap: 6px;
  .infoIcon { 
    display: inline-flex; align-items: center; justify-content: center;
    width: 18px; height: 18px; background: $primary-blue; color: $white; 
    border-radius: 50%; font-size: 11px; font-weight: bold; font-style: normal;
  }
}

.specialtyList {
  display: flex; flex-direction: column; gap: 12px;
}

.specialtyItem {
  background: $white; padding: 20px; border-radius: 12px; border: 1px solid $border-gray;
  display: flex; align-items: flex-start; gap: 16px; cursor: pointer; transition: all 0.2s;
  
  &:hover { border-color: $primary-blue; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }

  .specIcon {
    width: 24px; height: 24px; background: $primary-blue; color: $white;
    border-radius: 50%; display: flex; align-items: center; justify-content: center;
    font-size: 14px; font-weight: bold; flex-shrink: 0; margin-top: 2px;
  }

  .specContent {
    flex: 1;
    .specHeader { display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px; }
    .specName { font-weight: 700; color: $primary-blue; font-size: 15px; text-transform: uppercase; }
    .specPrice { font-weight: 600; color: $text-dark; }
    .specNote { font-size: 13px; color: $text-light; margin: 0; line-height: 1.4; }
  }

  .arrowIcon { color: $text-light; font-size: 20px; font-weight: 300; margin-top: 2px; }
}

/* --- CALENDAR STYLES (MỚI) --- */
.centerTitle { flex: 1; text-align: center; color: $primary-blue; font-weight: 700; }
.homeBtn { background: none; border: none; font-size: 20px; cursor: pointer; color: $primary-blue; }

.calendarContainer {
  background: $white; padding: 20px; border-radius: 16px; @include box-shadow;
}

.calendarHeader {
  display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;
  h4 { margin: 0; color: $primary-blue; font-size: 18px; font-weight: 700; }
  .navBtn { width: 36px; height: 36px; background: $primary-blue; color: $white; border: none; border-radius: 8px; font-size: 20px; cursor: pointer; display: flex; align-items: center; justify-content: center; &:hover { background: $medium-blue; } }
}

.weekDays {
  display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; margin-bottom: 12px;
  span { text-align: center; font-weight: 700; font-size: 14px; color: $text-dark; }
}

.daysGrid {
  display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; margin-bottom: 24px;
}

.dayCell {
  aspect-ratio: 1; border-radius: 4px; display: flex; flex-direction: column; align-items: center; justify-content: center;
  font-weight: 700; font-size: 15px; cursor: pointer; position: relative;
  span { font-size: 8px; font-weight: 400; margin-top: 2px; text-align: center; }

  &.blue { background: #00b5f1; color: $white; transition: opacity 0.2s; &:hover { opacity: 0.8; } }
  &.gray { background: #e0e0e0; color: #888; cursor: not-allowed; }
  &.orange { background: #ffe4d4; color: #d35400; border: 1px solid #f39c12; }
  &.holidayText { font-size: 14px; color: #666; }
}

.guideText {
  background: #f8f9fa; padding: 12px; font-size: 14px; color: $text-dark; border-left: 4px solid #00b5f1; margin-bottom: 20px;
  .blueText { color: #00b5f1; font-weight: 700; }
}

.legend {
  display: flex; flex-direction: column; gap: 8px;
  .legendItem { display: flex; align-items: center; gap: 10px; font-size: 13px; color: $text-light; }
  .dot { width: 16px; height: 16px; border-radius: 4px; display: inline-block; }
  .blueDot { background: #00b5f1; }
  .grayDot { background: #e0e0e0; border: 1px solid #ccc; }
  .orangeDot { background: #ffe4d4; border: 1px solid #f39c12; }
}

/* --- VERTICAL MENU STYLES (MỚI) --- */
.verticalMenu {
  display: flex; flex-direction: column; gap: 12px;
}

.menuItem {
  background: #ffffff; 
  border: 1px solid #e0e8f0; 
  border-radius: 12px; 
  padding: 16px 20px;
  display: flex; align-items: center; justify-content: space-between; 
  transition: all 0.2s;
  
  .leftContent { display: flex; align-items: center; gap: 16px; }
  
  .iconBox {
    width: 40px; height: 40px; background: #f0f2f5; border-radius: 50%;
    display: flex; align-items: center; justify-content: center; font-size: 20px; color: $text-light;
  }
  
  .itemText { font-weight: 600; color: $text-light; font-size: 15px; }

  /* --- SỬA LẠI TRẠNG THÁI DONE (ĐÃ XONG) --- */
  &.done {
    /* 1. Bỏ viền xanh lá và nền xanh lá */
    border-color: #e0e8f0; /* Giữ viền xám nhạt như bình thường */
    background: #ffffff;   /* Giữ nền trắng */

    /* 2. Giữ hiệu ứng highlight cho icon và chữ */
    .iconBox { background: $primary-blue; color: $white; } 
    .itemText { color: $primary-blue; font-weight: 700; text-transform: uppercase; }
    
    /* 3. Dấu tick vẫn giữ màu xanh lá để nhận biết */
    .checkIcon { color: #2ecc71; font-size: 20px; font-weight: bold; }
  }

  /* Trạng thái Đang chọn (Có thể click) */
  &.active {
    cursor: pointer; 
    border-left: 4px solid $primary-blue; /* Viền trái xanh dương để biết đang chọn */
    
    &:hover { 
      box-shadow: 0 4px 12px rgba(0, 82, 204, 0.1); 
      transform: translateX(4px); 
    }
    
    .itemText { color: $text-dark; }
    .arrowIcon { font-size: 24px; color: $text-light; }
  }
}
/* --- CSS CHO STEP 6 (CHỌN GIỜ - FIX GIAO DIỆN) --- */

.timeSelectionContainer {
  display: flex; 
  flex-direction: column; 
  gap: 24px; /* Khoảng cách giữa Carousel và các buổi */
}

/* 1. Carousel Ngày */
.dateCarousel {
  display: flex; 
  gap: 16px; 
  margin-bottom: 8px; 
  overflow-x: auto; 
  padding: 4px;
  justify-content: center;
}

.dateCard {
  background: #fff; 
  border: 1px solid #e0e8f0; 
  border-radius: 12px;
  padding: 12px 20px; 
  display: flex; 
  flex-direction: column; 
  align-items: center;
  justify-content: center;
  cursor: pointer; 
  min-width: 100px; /* Đặt chiều rộng cố định để đều nhau */
  position: relative;
  transition: all 0.2s;
  
  span:first-child { font-weight: 700; color: #0052cc; font-size: 16px; margin-bottom: 4px; }
  span:last-child { font-size: 13px; color: #5a6b7d; }
  
  &:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.05); }

  &.selected {
    border: 2px solid #0052cc; 
    background: #f0f7ff;
    .tickCorner {
      position: absolute; top: -1px; right: -1px; 
      background: #0052cc; color: #fff;
      font-size: 10px; width: 20px; height: 20px; 
      border-bottom-left-radius: 10px; border-top-right-radius: 10px;
      display: flex; align-items: center; justify-content: center;
    }
  }
}

/* 2. Label Buổi Sáng/Chiều */
.sessionBlock {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.currentDateLabel {
  font-size: 14px; 
  font-weight: 700; 
  color: #27ae60; /* Màu xanh lá cho buổi sáng */
  margin-left: 8px;
  text-transform: uppercase;
  text-align: center; /* Thêm dòng này */
  margin-left: 0; /* Bỏ margin left cũ */
  
  &.pmLabel { color: #e67e22; } /* Màu cam cho buổi chiều */
}

/* 3. Card Bác sĩ */
.doctorTimeCard {
  background: #fff; 
  border-radius: 16px; 
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  border: 1px solid #e0e8f0; 
  overflow: hidden;
}

.doctorHeader {
  padding: 16px 20px; 
  display: flex; 
  /* Thay đổi align-items để icon và text thẳng hàng ngang đẹp hơn */
  align-items: center; 
  /* THÊM DÒNG NÀY: Căn giữa toàn bộ cụm icon và tên */
  justify-content: center;
  
  border-bottom: 1px dashed #e0e8f0; 
  background: #fafafa;
  position: relative; /* Để icon mũi tên (collapse) có thể absolute nếu cần */

  .docIcon { 
    font-size: 24px; 
    /* Bỏ margin-top cũ để icon thẳng hàng với tên */
    margin-right: 12px; 
  }

  .docInfo { 
    /* BỎ flex: 1 để khối text không chiếm hết chỗ, giúp nó co cụm lại ở giữa cùng icon */
    /* flex: 1; -> XÓA DÒNG NÀY */
    text-align: left; /* Text vẫn căn trái so với khối của nó */
    
    h4 { margin: 0 0 4px; color: #0052cc; font-size: 16px; font-weight: 700; }
    p { margin: 0; font-size: 13px; color: #5a6b7d; }
  }

  /* Đẩy icon mũi tên thu gọn ra góc phải tuyệt đối (nếu muốn giữ layout cân đối) */
  .collapseIcon { 
    position: absolute;
    right: 20px;
    font-weight: bold; color: #5a6b7d; cursor: pointer; 
  }
}

/* 4. Grid Nút Giờ - SỬA LẠI ĐỂ KHÔNG BỊ LOẠN */
.timeGrid {
  padding: 24px; 
  /* Dùng Flex wrap thay vì Grid để các nút tự xuống dòng gọn gàng */
  display: flex; 
  flex-wrap: wrap; 
  gap: 16px; 
  justify-content: center;
}

.timeBtn {
  background: #fff; 
  border: 1px solid #0052cc; 
  /* Bo tròn góc nhiều hơn để giống hình viên thuốc trong Hình 3 */
  border-radius: 8px; 
  padding: 10px 0; /* Padding trên dưới */
  
  /* Chiều rộng cố định hoặc tương đối để nút đều nhau */
  width: 140px; 
  text-align: center;
  
  color: #0052cc; 
  font-weight: 600; 
  font-size: 14px;
  cursor: pointer; 
  transition: all 0.2s;
  
  &:hover { 
    background: #0052cc; 
    color: #fff; 
    box-shadow: 0 4px 12px rgba(0, 82, 204, 0.2);
  }
}

/* ========================================= */
/* --- CSS CHO STEP 7 (XÁC NHẬN & BẢO HIỂM) --- */
/* ========================================= */

/* 1. Container chính: Giới hạn chiều rộng để các ô không bị dài (bè) ra */
.confirmationContainer {
  padding-bottom: 100px; /* Chừa chỗ cho thanh thanh toán dính dưới */
  max-width: 600px;      /* Giới hạn chiều rộng giống form nhập liệu */
  margin: 0 auto;        /* Căn giữa màn hình */
}

/* 2. Danh sách tóm tắt (4 ô thông tin ở trên) */
.summaryList {
  display: flex;
  flex-direction: column;
  gap: 10px; /* Khoảng cách giữa các ô */
  margin-bottom: 24px;
}

.summaryItem {
  background: #fff;
  border: 1px solid #e0e8f0;
  border-radius: 12px;
  padding: 12px 16px; /* Padding nhỏ gọn */
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
  transition: all 0.2s;

  &:hover {
    border-color: #0052cc;
    background-color: #f8fbff;
    transform: translateX(4px); /* Hiệu ứng đẩy nhẹ sang phải khi hover */
  }

  .summaryInfo {
    display: flex;
    align-items: center;
    gap: 14px;
    flex: 1;
    
    /* Icon tròn */
    .summaryIcon { 
      width: 36px; 
      height: 36px; 
      background: #e6f0ff; 
      border-radius: 50%;
      display: flex; 
      align-items: center; 
      justify-content: center; 
      font-size: 18px; 
      color: #0052cc;
      flex-shrink: 0;
    }

    .summaryText { 
      font-weight: 700; 
      color: #0052cc; 
      font-size: 14px; 
      text-transform: uppercase; 
      line-height: 1.3;
    }
  }

  .checkIcon {
    font-size: 18px;
    color: #2ecc71; /* Màu xanh lá */
    font-weight: bold;
  }
}

/* 3. Khung Bảo hiểm Y tế & Bảo lãnh (Đã mở rộng padding cho thoáng) */
.insuranceSection, .guaranteeSection {
  background: #fff;
  /* Thêm viền và bo góc để giống các thẻ (card) ở trên */
  border: 1px solid #e0e8f0;
  border-radius: 12px;
  
  /* Tăng padding để nội dung rộng rãi, không bị hẹp */
  padding: 24px; 
  
  margin-bottom: 16px;
  transition: all 0.2s;

  &:hover {
    border-color: #0052cc;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  }

  h4 {
    font-size: 16px;
    font-weight: 700;
    margin-bottom: 16px;
    color: #1a2340;
    .red { color: #e74c3c; }
  }
}

.radioOption {
  display: flex;
  align-items: flex-start;
  gap: 14px;
  margin-bottom: 12px;
  cursor: pointer;
  
  &:last-child { margin-bottom: 0; }
  
  input[type="radio"] {
    width: 20px;
    height: 20px;
    margin-top: 2px;
    accent-color: #0052cc;
    cursor: pointer;
    flex-shrink: 0;
  }

  label {
    font-size: 15px; /* Chữ to rõ */
    color: #1a2340;
    cursor: pointer;
    line-height: 1.5;
  }
}

.guaranteeSection {
  margin-top: 0; /* Bỏ margin top vì đã được container xử lý */
  
  .checkboxLabel {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 15px;
    font-weight: 700; /* Chữ đậm */
    width: 100%;
    color: #1a2340;
    
    .red { color: #e74c3c; }
  }

  .checkboxGroup {
    display: flex;
    gap: 30px; /* Khoảng cách rộng giữa Có/Không */
    
    label { 
      display: flex; 
      align-items: center; 
      gap: 8px; 
      cursor: pointer; 
      font-weight: 400;
      
      input { 
        width: 20px; 
        height: 20px; 
        accent-color: #0052cc; 
        cursor: pointer;
      }
    }
  }
}

/* 4. Bottom Bar (Thanh thanh toán dính dưới) */
.bottomBar {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background: #fff;
  display: flex;
  justify-content: center; /* Để căn giữa nội dung bên trong */
  padding: 0;
  box-shadow: 0 -4px 20px rgba(0,0,0,0.08);
  z-index: 1000;
  border-top: 1px solid #e0e8f0;
  animation: slideUp 0.3s;
}

/* Wrapper giới hạn chiều rộng cho nội dung thanh thanh toán */
.bottomBarContent {
  width: 100%;
  max-width: 600px; /* Khớp với .confirmationContainer */
  padding: 12px 0;  /* Padding trên dưới */
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.priceInfo {
  display: flex;
  flex-direction: column;
  span:first-child { 
    font-size: 12px; 
    color: #5a6b7d; 
    font-weight: 600; 
    text-transform: uppercase; 
  }
  .priceValue { 
    font-size: 18px; 
    font-weight: 800; 
    color: #0052cc; 
  }
}

.continueBtn {
  background: #0052cc; 
  color: #fff;
  border: none;
  padding: 10px 32px; /* Kích thước nút vừa vặn */
  border-radius: 8px; 
  font-size: 14px;
  font-weight: 700;
  text-transform: uppercase;
  cursor: pointer;
  transition: all 0.2s;
  box-shadow: 0 4px 10px rgba(243, 156, 18, 0.3);
  
  &:hover {
    background: #0052cc; 
    transform: translateY(-2px);
  }
}

/* ========================================= */
/* --- CSS CHO STEP 8 (KẾT QUẢ ĐẶT KHÁM) --- */
/* ========================================= */

/* 1. Container chính */
.resultContainer {
  padding-bottom: 120px;
  max-width: 600px;
  margin: 0 auto;
  text-align: left; /* Đảm bảo căn trái toàn bộ */
}

/* Icon ngôi nhà (Home) */
.homeIcon {
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  font-size: 24px;
  color: #0052cc;
  cursor: pointer;
  padding: 4px;
  transition: transform 0.2s;

  &:hover {
    transform: translateY(-50%) scale(1.1);
  }
}

/* Dòng chữ hướng dẫn: SỬA THÀNH CĂN TRÁI */
.guideText {
  text-align: left; /* Đã sửa từ center thành left */
  font-size: 14px;
  color: #5a6b7d;
  margin-bottom: 24px;
  line-height: 1.5;
}

/* 2. Thẻ hiển thị thông tin Hồ sơ */
.infoCard {
  background: #fff;
  border: 1px solid #e0e8f0;
  border-radius: 12px;
  margin-bottom: 24px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0,0,0,0.02);

  .cardHeader {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    background: #fafafa;
    border-bottom: 1px dashed #e0e8f0;

    .iconUser {
      font-size: 18px;
      color: #5a6b7d;
    }

    h4 {
      margin: 0;
      font-size: 15px;
      font-weight: 700;
      color: #1a2340;
      flex: 1;
      text-align: left; /* Căn trái tiêu đề card */
    }

    .collapseIcon {
      font-size: 18px;
      color: #5a6b7d;
      cursor: pointer;
      font-weight: bold;
    }
  }

  .cardBody {
    padding: 16px;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
}

/* 3. Thẻ hiển thị Chuyên khoa đã đặt */
.sectionTitle {
  font-size: 16px;
  font-weight: 700;
  color: #1a2340;
  margin-bottom: 12px;
  text-align: left; /* Căn trái tiêu đề section */
}

.bookingCard {
  background: #fff;
  border: 1px solid #e0e8f0;
  border-radius: 12px;
  padding: 16px;
  position: relative;
  box-shadow: 0 4px 12px rgba(0,0,0,0.05);
  display: flex;
  flex-direction: column;
  gap: 12px;
  transition: all 0.2s;

  &:hover {
    border-color: #0052cc;
    box-shadow: 0 6px 16px rgba(0, 82, 204, 0.1);
  }

  /* Nút thùng rác xóa */
  .deleteIcon {
    position: absolute;
    bottom: 16px;
    right: 16px;
    width: 36px;
    height: 36px;
    border-radius: 8px;
    background: #fff5f5;
    border: 1px solid #ffcccc;
    color: #e74c3c;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 18px;
    transition: all 0.2s;

    &:hover {
      background: #e74c3c;
      color: #fff;
      border-color: #e74c3c;
    }
  }
}

/* 4. Định dạng dòng (Label - Value) - CĂN TRÁI */
.row {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  font-size: 14px;
  text-align: left; /* Đảm bảo dòng này căn trái */

  .label {
    width: 110px;
    color: #5a6b7d;
    flex-shrink: 0;
    text-align: left; /* Nhãn căn trái */
  }

  .value {
    flex: 1;
    color: #1a2340;
    font-weight: 500;
    line-height: 1.4;
    padding-right: 40px;
    text-align: left; /* Giá trị căn trái */
  }

  .valueName {
    flex: 1;
    font-size: 14px;
    color: #0052cc;
    font-weight: 800;
    text-transform: uppercase;
    text-align: left;
  }

  .valueBlue {
    flex: 1;
    font-size: 14px;
    color: #0052cc;
    font-weight: 700;
    text-transform: uppercase;
    text-align: left;
  }
}

/* 5. Bottom Bar Step 8 */
.bottomBarContent {
  /* Layout tổng tiền và nút */
  .totalInfo {
    display: flex;
    flex-direction: column;
    align-items: flex-start; /* Căn trái phần tổng tiền */
    
    span:first-child {
      font-size: 13px;
      color: #1a2340;
      font-weight: 600;
    }
    
    .totalPrice {
      font-size: 20px;
      font-weight: 800;
      color: #0052cc;
    }
  }

  .actionButtons {
    display: flex;
    gap: 12px;

    .addMoreBtn {
      background: #fff;
      border: 1px solid #0052cc;
      color: #0052cc;
      padding: 10px 20px;
      border-radius: 8px;
      font-weight: 700;
      font-size: 14px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: all 0.2s;

      &:hover {
        background: #f0f7ff;
      }
    }
  }
}

/* ========================================= */
/* --- CSS CHO STEP 9 (SUCCESS PAGE) --- */
/* ========================================= */

/* 1. Banner thành công */
.successBanner {
  background: #e6fffa;
  border: 1px solid #b7eb8f;
  border-radius: 12px;
  padding: 24px;
  text-align: center;
  margin-bottom: 24px;

  .successIcon {
    font-size: 40px;
    margin-bottom: 8px;
  }

  h4 {
    color: #27ae60;
    font-size: 18px;
    font-weight: 800;
    margin: 0 0 8px;
  }

  p {
    color: #5a6b7d;
    font-size: 14px;
    margin: 0;
  }
}

/* 2. Vé điện tử (Ticket Card) */
.ticketCard {
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.1); /* Bóng đổ đậm hơn cho giống thẻ nổi */
  overflow: hidden;
  margin-bottom: 24px;
  border: 1px solid #e0e8f0;

  .qrSection {
    background: #fff;
    padding: 30px;
    display: flex;
    flex-direction: column;
    align-items: center;
    
    .qrImage {
      width: 160px;
      height: 160px;
      margin-bottom: 12px;
      mix-blend-mode: multiply; /* Giúp QR hòa vào nền nếu nền không trắng */
    }

    .bookingRef {
      font-size: 16px;
      color: #1a2340;
      margin: 0;
      background: #f0f2f5;
      padding: 6px 16px;
      border-radius: 20px;
    }
  }

  /* Đường kẻ đứt nét giữa QR và thông tin */
  .dashedLine {
    height: 1px;
    background-image: linear-gradient(to right, #ccc 50%, rgba(255,255,255,0) 0%);
    background-position: bottom;
    background-size: 10px 1px;
    background-repeat: repeat-x;
    margin: 0 20px;
    position: relative;

    /* Tạo 2 hình bán nguyệt lõm vào ở 2 bên */
    &::before, &::after {
      content: "";
      position: absolute;
      top: -10px;
      width: 20px;
      height: 20px;
      background-color: #f0f7ff; /* Màu trùng với màu nền container cha */
      border-radius: 50%;
    }
    &::before { left: -30px; }
    &::after { right: -30px; }
  }

  .patientSummary {
    padding: 20px;
    background: #fff;
  }
}

/* 3. Danh sách biên lai (Receipt List) */
.receiptList {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-bottom: 24px;
}

.receiptItem {
  background: #fff;
  border: 1px solid #e0e8f0;
  border-radius: 12px;
  padding: 16px;
  
  .receiptHeader {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 8px;
    border-bottom: 1px solid #f0f2f5;
    padding-bottom: 8px;

    .receiptIndex {
      background: #0052cc;
      color: #fff;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      font-weight: 700;
    }

    .receiptName {
      font-weight: 700;
      color: #0052cc;
      font-size: 14px;
      text-transform: uppercase;
    }
  }

  .receiptBody {
    p {
      margin: 4px 0;
      font-size: 13px;
      color: #1a2340;
    }
  }
}

/* 4. Khung hướng dẫn */
.instructionBox {
  background: #fff3cd; /* Màu vàng nhạt cảnh báo */
  border: 1px solid #ffeeba;
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 24px;

  h5 {
    margin: 0 0 8px;
    color: #856404;
    font-size: 14px;
    font-weight: 700;
  }

  ul {
    margin: 0;
    padding-left: 20px;
    li {
      font-size: 13px;
      color: #856404;
      margin-bottom: 4px;
      line-height: 1.4;
    }
  }
}